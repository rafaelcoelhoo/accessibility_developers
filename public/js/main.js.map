{"version":3,"file":"main.js","sources":["../../js/components/example.js","../../js/components/modal.js","../../js/main.js"],"sourcesContent":["export const example = () => console.log('The example component ran on the page');\n","export const modal = () => {\n// Will hold previously focused element\n    var focusedElementBeforeModal;\n\n// Find the modal and its overlay\n    var modal = document.querySelector('.modal-1');\n    var modalOverlay = document.querySelector('.modal-overlay');\n\n    var modalToggle = document.querySelector('.modal-toggle');\n    if (modalToggle) modalToggle.addEventListener('click', openModal);\n\n    function openModal() {\n        // Save current focus\n        focusedElementBeforeModal = document.activeElement;\n\n        // Listen for and trap the keyboard\n        modal.addEventListener('keydown', trapTabKey);\n\n        // Listen for indicators to close the modal\n        modalOverlay.addEventListener('click', closeModal);\n        // Sign-Up button\n        var signUpBtn = modal.querySelector('#signup');\n        signUpBtn.addEventListener('click', closeModal);\n\n        // Find all focusable children\n        var focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\n        var focusableElements = modal.querySelectorAll(focusableElementsString);\n        // Convert NodeList to Array\n        focusableElements = Array.prototype.slice.call(focusableElements);\n\n        var firstTabStop = focusableElements[0];\n        var lastTabStop = focusableElements[focusableElements.length - 1];\n\n        // Show the modal and overlay\n        modal.style.display = 'block';\n        modalOverlay.style.display = 'block';\n\n        // Focus first child\n        firstTabStop.focus();\n\n        function trapTabKey(e) {\n            // Check for TAB key press\n            if (e.keyCode === 9) {\n\n                // SHIFT + TAB\n                if (e.shiftKey) {\n                    if (document.activeElement === firstTabStop) {\n                        e.preventDefault();\n                        lastTabStop.focus();\n                    }\n\n                    // TAB\n                } else {\n                    if (document.activeElement === lastTabStop) {\n                        e.preventDefault();\n                        firstTabStop.focus();\n                    }\n                }\n            }\n\n            // ESCAPE\n            if (e.keyCode === 27) {\n                closeModal();\n            }\n        }\n    }\n\n    function closeModal() {\n        // Hide the modal and overlay\n        modal.style.display = 'none';\n        modalOverlay.style.display = 'none';\n\n        // Set focus back to element that had it before the modal was opened\n        focusedElementBeforeModal.focus();\n    }\n\n}\n","import {example} from \"./components/example\";\nimport {modal} from \"./components/modal.js\";\n\nconst start = () => {\n\texample();\n\tmodal()\n};\n\nif (/complete|interactive/.test(document.readyState)) {\n\tstart();\n} else {\n\tdocument.addEventListener('DOMContentLoaded', start);\n}\n"],"names":["example","console","log","modal","focusedElementBeforeModal","document","querySelector","modalOverlay","modalToggle","addEventListener","openModal","activeElement","trapTabKey","closeModal","signUpBtn","focusableElementsString","focusableElements","querySelectorAll","Array","prototype","slice","call","firstTabStop","lastTabStop","length","style","display","focus","e","keyCode","shiftKey","preventDefault","start","test","readyState"],"mappings":"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"}